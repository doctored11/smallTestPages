<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD"
      crossorigin="anonymous"
    />
  </head>
  <body id="top">
    <div class="container mb-12" style="margin-bottom: 5rem">
      <h2>Task1</h2>
      <div class="dropdown">
        <button
          class="btn btn-secondary dropdown-toggle"
          type="button"
          id="dropdownMenuButton1"
          data-bs-toggle="dropdown"
          aria-expanded="false"
        >
          выпадающий блок
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1">
          <li><a class="dropdown-item" href="#">1</a></li>
          <li><a class="dropdown-item" href="#">2</a></li>
          <li><a class="dropdown-item" href="#">3</a></li>
        </ul>
      </div>
    </div>

    <div class="container mb-12">
      <h2>Task1</h2>
      <form>
        <div class="mb-3">
          <label for="exampleInputEmail1" class="form-label">Имя</label>
          <input type="text" class="form-control" />
        </div>
        <div class="mb-3">
          <label for="exampleInputEmail1" class="form-label">Фамилия</label>
          <input type="text" class="form-control" />
        </div>
        <div class="mb-3">
          <label for="exampleInputEmail1" class="form-label">Отчество</label>
          <input type="text" class="form-control" />
        </div>
        <button type="submit" class="btn btn-primary">сохранить</button>
        <p class="save"></p>
      </form>
      <div class="container">
        <p>
          Lorem ipsum dolor sit, amet consectetur adipisicing elit. Laboriosam,
          laudantium. Maiores minus incidunt suscipit voluptatum inventore, vitae
          necessitatibus, omnis nostrum est dolore cum, ipsam unde dignissimos? Vero quia
          quam suscipit. Expedita labore laborum possimus magni consequatur dicta quae.
          Voluptatibus dolores maxime quia sequi asperiores, necessitatibus adipisci, at
          tempora dicta quam ad nam reprehenderit deleniti corrupti aliquid fugit. Modi,
          placeat explicabo. Magnam eum dolorum aspernatur ullam. Porro illum, molestias
          similique harum voluptate, nobis culpa molestiae ipsum vero consequatur, minus
          deleniti eaque ullam vitae odit asperiores deserunt fugit aliquam nostrum
          recusandae enim! Repellat, mollitia veritatis. Perspiciatis quas facere
          obcaecati, error laborum earum atque labore assumenda aut et eligendi cum
          facilis aspernatur odit aliquam nemo repellat consequuntur officiis alias!
          Temporibus tempore natus laboriosam. Debitis beatae quasi, pariatur suscipit
          quod delectus ab soluta magni nesciunt omnis adipisci. Reprehenderit quis dolore
          quas beatae dolorum sequi illo neque nulla! Blanditiis doloremque libero sequi,
          totam aliquam ipsa? Eius ducimus blanditiis enim nesciunt nihil cum est
          expedita. Vel quam facilis ex eveniet, sint consequuntur nisi! Aspernatur
          inventore, harum pariatur porro id aliquid, adipisci accusantium molestiae sunt
          architecto ipsam! Quo, quas ut laborum quidem autem itaque similique ex aliquid
          dolorem possimus explicabo iste quaerat totam nihil animi in laudantium, neque
          dicta cumque! Eligendi quae nesciunt impedit quia, perferendis provident!
          Exercitationem ducimus explicabo, delectus est ut unde cupiditate quae, fugiat
          voluptate voluptatem deserunt cumque deleniti eaque libero ipsum nisi. Molestiae
          a repellat itaque omnis exercitationem dolor adipisci aut nobis dicta? Natus
          laboriosam impedit consectetur quos, mollitia optio nostrum tenetur praesentium,
          autem error doloremque. Facere, laborum, itaque quaerat temporibus rem error
          atque voluptas tempore consequuntur distinctio maxime! Quo enim magnam eaque.
          Aperiam repellat qui necessitatibus eos adipisci amet distinctio, quasi illum!
          Ducimus quo sed enim nostrum in omnis laudantium nam placeat, nobis odit debitis
          inventore non unde, nihil asperiores repellendus excepturi. Odio, velit quam
          consequatur laboriosam natus libero minus aliquid rerum blanditiis, in, cumque
          accusamus eum quasi doloremque eaque beatae numquam animi reiciendis ullam quae!
          Quaerat debitis cumque blanditiis soluta officiis. Dicta eveniet illo autem.
          Quaerat dolore quasi, qui quas deleniti impedit odit iusto dignissimos nesciunt
          saepe voluptatem nostrum in nobis deserunt blanditiis, sapiente iste ea,
          distinctio error omnis inventore fuga. Iure repudiandae veniam enim adipisci
          quia itaque aperiam, odio dolores voluptates architecto doloremque natus culpa.
          Commodi tenetur odio asperiores sit tempore esse repellendus est itaque
          assumenda. Ut quam consectetur omnis! Autem unde odio ratione inventore veniam
          vero architecto temporibus mollitia culpa necessitatibus vel eum dolore
          voluptatum suscipit sit sunt officiis laborum libero sed, eaque soluta
          reprehenderit! Quibusdam similique veniam atque! Dolorem eaque dolores, atque
          vero harum alias, enim facilis accusamus assumenda voluptate modi deleniti
          voluptatibus ratione quas, totam dicta sapiente qui autem adipisci
          reprehenderit! Repellendus id distinctio modi quod dolorum. Nam veniam totam
          maiores laborum nostrum voluptatibus aliquam debitis. Alias, molestiae optio
          numquam placeat eum eaque in ab vitae quod odio sapiente iure esse ea,
          repudiandae similique, eos aspernatur error. In, nisi ex itaque ut laboriosam
          minus neque tempora voluptatum? Aut voluptas placeat, saepe facilis ab officia,
          eveniet non fuga laboriosam dicta nemo numquam hic mollitia perferendis facere.
          Quos, dolorum. Consectetur aut veritatis cum perferendis tenetur nihil
          praesentium est asperiores, ex adipisci in suscipit perspiciatis necessitatibus
          quod exercitationem? Illo nesciunt quam nobis, voluptatem aperiam dolorem non
          beatae officiis atque blanditiis. Maxime earum officia ipsam fugit iste eius
          mollitia! Dignissimos repellat tempore praesentium, saepe impedit sed corporis
          porro aliquid quidem iure! Quos ad voluptatem ea! Placeat ut reiciendis
          laboriosam beatae alias. Quia sequi, ipsum fugit, odit aperiam voluptatibus
          quaerat saepe quis velit in earum accusamus corporis illo eveniet consectetur
          quam. Modi cupiditate tenetur perferendis minus iure ex obcaecati! Deleniti,
          dolorem a. Culpa, quidem natus minima cumque voluptatibus doloribus consequuntur
          maiores iusto reiciendis ut minus, unde mollitia voluptate? Expedita eligendi
          et, soluta vero vel eum laudantium dicta sunt atque nemo iure omnis! Officiis
          minima quaerat obcaecati nobis autem, modi tempora nihil quia quibusdam
          accusantium repellendus ab consequuntur itaque eaque ea maxime voluptates cumque
          perferendis. Corporis accusantium doloribus natus et perferendis debitis
          repellat! Vero at ullam veniam? Fugiat, maiores. Ad quaerat a, asperiores
          delectus veritatis esse cum tempore aliquid voluptatibus perferendis eaque
          necessitatibus debitis omnis eveniet repellendus ipsum sed assumenda alias
          facilis. Eum? Voluptate maxime assumenda atque nesciunt ab doloribus cupiditate
          reprehenderit! Incidunt laborum, sapiente magnam similique, voluptate nesciunt
          et sint quis in tempora maiores hic, molestias delectus ex soluta? Neque, animi
          eligendi? Esse, voluptates. Deserunt accusantium numquam deleniti in vitae
          consequatur neque dolor fuga quas est. Soluta voluptate similique iure magnam
          rem, quos pariatur voluptatum minima maiores atque at illum animi obcaecati.
          Natus nobis incidunt repudiandae, ipsa quae quis, voluptatum minus provident
          voluptatem distinctio cum ex corrupti cupiditate autem voluptatibus quo
          similique totam nisi sunt facilis accusamus? A excepturi reiciendis illum ad!
          Quod accusamus quo sint, quis illum perspiciatis magni aut odio architecto vel
          hic! Qui modi minus aperiam, quia, distinctio placeat odio sunt dolores cumque
          nostrum quod iusto atque architecto hic. Quis voluptates odit nihil aut
          delectus, exercitationem, accusantium tenetur inventore voluptatem enim officiis
          rem quasi necessitatibus iusto est quos natus dolores perferendis. Harum, at
          obcaecati. Quisquam exercitationem repellat hic provident? Maxime ipsum
          consequatur sequi atque provident nemo iure aliquid architecto eius eum corrupti
          officia, nesciunt sed? Ipsum repellendus officiis nihil quod reiciendis quos,
          voluptatum sed provident laudantium vel magni quo. Repellendus odit ad inventore
          tempore culpa perspiciatis quisquam, ipsam maxime laudantium enim omnis nihil
          totam ducimus fuga error doloremque exercitationem consequuntur! Perferendis
          incidunt fugit voluptates, quo dolorum illum deserunt tempora. Ex, id vero eum
          officia perferendis facere dolores rem quibusdam unde animi. Illum magni earum
          exercitationem et perspiciatis fuga dolor ex veritatis iure. Doloribus quam sit
          perspiciatis omnis laboriosam culpa! Soluta aliquam laborum autem quos facilis,
          beatae veniam iusto cumque assumenda architecto necessitatibus excepturi
          consequatur temporibus sequi doloremque voluptatem. Repellendus ea magni iusto
          est sint sunt autem corporis? Et, est. Consequatur numquam officiis nobis iure
          nisi similique eum ab modi? Incidunt iure mollitia dicta ab? Accusantium saepe
          unde voluptatum obcaecati blanditiis doloremque ullam fugiat dolore? Architecto
          rem eius culpa totam. Vel earum reprehenderit impedit incidunt veniam doloremque
          non dicta velit corrupti hic quisquam itaque nostrum inventore suscipit cum
          quod, harum fugit. Tenetur nesciunt iste beatae voluptates culpa ipsam ut
          minima! Consequuntur, dicta ab facere adipisci modi, expedita, perspiciatis
          rerum repellat placeat eius corporis voluptatibus quasi impedit libero laborum
          iste perferendis reiciendis corrupti exercitationem quia ullam delectus!
          Doloremque possimus exercitationem at! Quasi, dolores ab facilis sapiente modi
          corrupti natus harum quod reprehenderit. Voluptas, nesciunt eligendi
          exercitationem aliquam sint beatae esse animi, dolorum eum odit rerum error
          totam laudantium ut, unde cumque. Id minus voluptatibus doloremque inventore
          consequatur dolore? Omnis pariatur aspernatur distinctio tempore libero, officia
          voluptatem. Quibusdam perspiciatis tenetur dolore, nemo quam et quaerat error
          placeat molestiae quia tempora totam quas? Et atque, placeat delectus hic quis
          eveniet laboriosam at quos facilis autem quas quidem veritatis error, impedit
          quia sint aut dolor aliquid reprehenderit recusandae possimus tenetur, incidunt
          doloribus. Delectus, culpa! Id eligendi dolor nihil assumenda eos voluptas quam
          tempore hic explicabo ad, consequuntur voluptatibus quidem minus, sit quisquam
          neque illum veniam culpa aliquid possimus porro. Impedit, ut! Quae, accusantium
          odit! Optio ex ducimus, mollitia omnis fugit alias repellat eius consectetur
          veniam recusandae aut quis ut qui debitis at officiis eos praesentium iusto
          rerum cum nam magnam! Ab aperiam illo ipsum.
        </p>
        <button class="up btn btn-secondary d-none" href="#top">↑</button>
      </div>
    </div>
    <!-- <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
      crossorigin="anonymous"
    ></script> -->
    <script>
      // T1
      let FIOArr = [];
      let list = document.querySelector('.dropdown-toggle');
      let listBlock = document.querySelector('.dropdown-menu');
      let outputBlock = document.querySelector('.save');
      list.addEventListener('click', (ev) => {
        ev._isClicked = true;
        list.classList.toggle('show');
        listBlock.classList.toggle('show');
      });
      listBlock.addEventListener('click', (ev) => {
        ev._isClicked = true;
      });

      document.addEventListener('click', (ev) => {
        if (ev._isClicked) return;
        list.classList.remove('show');
        listBlock.classList.remove('show');
      });

      //   T2
      function checkInput() {
        // console.log(this.value[this.value.length - 1]);
        let letter = this.value[this.value.length - 1];
        let word = this.value.split('');
        if (!alf.includes(letter.toLowerCase())) {
          word.splice(word.length - 1, 1);
          this.value = word.join('');
        }
      }
      function totalCheck() {
        let word = this.value.split('');
        for (let i = 0; i < word.length; ++i) {
          if (!alf.includes(word[i])) {
            word.splice(i, 1);
            i--;
          }
        }
        this.value = word.join('').trim();
      }
      const alf = ' абвгдеёжзийклмнопрстуфхцчщшьыъэюя-';

      document.querySelectorAll('.form-control').forEach((element) => {
        element.addEventListener('input', checkInput);
        element.addEventListener('blur', totalCheck);
      });

      let btnForm = document.querySelector('.btn-primary');
      btnForm.addEventListener('click', addToFIOArr);
      function addToFIOArr() {
        event.preventDefault();
        let buff = '';
        document.querySelectorAll('.form-control').forEach((element) => {
          buff += element.value + ' ';
          element.value = '';
        });
        FIOArr.push(`<br> ${buff} </br>`);
        outputBlock.innerHTML = '';
        FIOArr.forEach((el) => {
          outputBlock.innerHTML += el;
        });
      }

      // task3
      window.addEventListener('scroll', scrollCheck);
      const btnUp = document.querySelector('.up');
      btnUp.addEventListener('click', function (ev) {
        posTo = btnUp.getAttribute('href') + '';
        document.querySelector(posTo).scrollIntoView({
          behavior: 'smooth',
          block: 'start',
          passive: 'true',
        });

        ev.preventDefault;
      });
      function scrollCheck() {
        let scrollDistance = window.pageYOffset;

        if (scrollDistance > 100) {
          btnUp.classList.remove('d-none');
        } else {
          btnUp.classList.add('d-none');
        }
      }
    </script>
    <style>
      .up {
        position: fixed;
        right: 5%;
        bottom: 5%;
        /* left: 0;
        top: 0; */
      }
    </style>
  </body>
</html>
